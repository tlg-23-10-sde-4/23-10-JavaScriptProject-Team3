<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meal and Water Tracker</title>

    <link rel="stylesheet" type="text/css" href="/New/public/css/styles.css">

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />

    <!-- //nav bar automation -->
    <script src="ejs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js" async defer></script>
    <!-- <script id="replace_with_navbar" src="/New/public/js/nav.js"></script>  -->
    
    <script src="js/nutrition.js" async defer></script>
  </head>
  <body>
    <header>
      <%- include('partials/header'); %>

    </header>
    <!---Graph Area Section-->


    <div class="Doughnut-graph">
        <h1>Caloric Intake and Nutrition</h1>
        <div>
          <canvas id="mychart"></canvas>
        </div>
        <div class="pie-view-container">
          <h2>Macronutrients Breakdown:</h2>
          <button type="button" onclick="toggleGraph()">toggle Graph</button>
          <br>
          <p>Carbs:....</p>
          </div>
        <div class="graph-view-container">
          <ul>
            <li><button>Week</button></li>
            <li><button>Month</button></li>
            <li><button>Year</button></li>
          </ul>
        </div>
        <br>
      </div>
      <br>


    <!-- calorie counter button -->
    <button type="button">Track Calories Button</button>

   
  

    <div>


    <!-- Meal Entry Section -->
    <div class="meal-entry-section">
      <h2>Meal Entry</h2>
      <p id="mealType"></p>

      <div id="userInputForm">
        <label for="time">Time:</label>
        <input type="text" id="time" placeholder="Enter time" />

        <label for="foodItem">Food Item:</label>
        <input type="text" id="foodItem" placeholder="Enter food item" required/>

        <label for="calories">Calories:</label>
        <input type="text" id="calories" placeholder="Enter calories" />

        <button onclick="submitMeal()">Submit</button>
      </div>

      <div class="mealType-container">
        <h3>ENTER MEAL:</h3>
        <br />
        <img
          src="https://th.bing.com/th/id/OIP.yeiTndRA3mhXlnn5mdk4sQHaH_?w=181&h=195&c=7&r=0&o=5&pid=1.7"
          alt="breakfast"
          onclick="openAndSubmitMeal('Breakfast')"
        />
        <img
          src="https://th.bing.com/th/id/OIP.vd2rq5tevnE0XVvzVIqH-gAAAA?pid=ImgDet&w=181&h=181&c=7"
          alt="lunch"
          onclick="openAndSubmitMeal('Lunch')"
        />
        <img
          src="https://th.bing.com/th/id/OIP.XNBRRlar2yyGaw30k6Z7ZwHaHa?w=177&h=180&c=7&r=0&o=5&pid=1.7"
          alt="dinner"
          onclick="openAndSubmitMeal('Dinner')"
        />
        <img
          src="https://th.bing.com/th/id/OIP.uKbJ80BTSdDD6poC_ysCjwHaHg?rs=1&pid=ImgDetMain"
          alt="snack"
          onclick="openAndSubmitMeal('Snack')"
        />
      </div>
      <div class="meal-history"></div>
    </div>
    <br />
    <!-- Water Intake Section -->
    <div class="water-intake-section">
      <h2>Water Intake</h2>
      <label for="waterInput">Enter Water Intake:</label>
      <input type="text" id="waterInput" placeholder="Enter water intake" />
      <button onclick="addWater()">Add Water</button>

      <div class="waterwheel-container">
        <h3>Total Water Intake:</h3>
        <span id="totalWater">0</span> ml
        <canvas id="waterChart"></canvas>
      </div>
    </div>

    <script>
      fetch("/New/public/nav.html")
        .then((res) => res.text())
        .then((text) => {
          let oldelem = document.querySelector("#replace_with_navbar");
          let newelem = document.createElement("div");
          newelem.innerHTML = text;
          oldelem.parentNode.replaceChild(newelem, oldelem);
        });

        // Add an event listener to the button
  document.getElementById("toggleNav").addEventListener("click", function() {
    // Get the navigation bar
    let navbar = document.querySelector("nav");

    // Toggle the display property
    if (navbar.style.display === "none") {
      navbar.style.display = "block";
    } else {
      navbar.style.display = "none";
    }
  });

    </script>
    <%- include('partials/footer'); %>

    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="js/nav.js"></script>
  </body>
</html>
